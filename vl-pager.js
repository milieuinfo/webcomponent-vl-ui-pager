import{VlElement,define}from"/node_modules/vl-ui-core/vl-core.js";export class VlPager extends(VlElement(HTMLElement)){static get _observedAttributes(){return["total-items","items-per-page","current-page","pagination-disabled"]}static get _observedChildClassAttributes(){return["align-center","align-right"]}constructor(){super(),this.shadow('\n      <style>\n        @import "/node_modules/vl-ui-pager/style.css";\n      </style>\n      <div class="vl-pager">\n        <ul class="vl-pager__list">\n          <li id="bounds" class="vl-pager__element"></li>\n          <li id="page-back-list-item" class="vl-pager__element">\n            <a id="page-back-link" class="vl-pager__element__cta vl-link vl-link--bold">\n              <i class="vl-link__icon vl-link__icon--before vl-vi vl-vi-arrow-left-fat" aria-hidden="true"></i>\n              Vorige <span id="previous-items-per-page" class="vl-u-visually-hidden"></span>\n            </a>\n          </li>\n          <li id="page-forward-list-item" class="vl-pager__element">\n            <a id="page-forward-link" class="vl-pager__element__cta vl-link vl-link--bold">\n              Volgende <span id="next-items-per-page" class="vl-u-visually-hidden"></span>\n              <i class="vl-link__icon vl-link__icon--after vl-vi vl-vi-arrow-right-fat" aria-hidden="true"></i>\n            </a>\n          </li>\n        </ul>\n      </div>\n    '),this.__addPageBackLinkListener(),this.__addPageForwardLinkListener()}get _classPrefix(){return"vl-pager--"}get totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}get totalItems(){return parseInt(this.getAttribute("total-items"))}get currentPage(){let e=parseInt(this.getAttribute("current-page"));return e<1?1:e<=this.totalPages?e:this.totalPages}get itemsPerPage(){return parseInt(this.getAttribute("items-per-page"))}get _firstItemNumberOfPage(){return this.totalItems?(this.currentPage-1)*this.itemsPerPage+1:0}get _lastItemNumberOfPage(){const e=this._firstItemNumberOfPage+this.itemsPerPage-1;return e>this.totalItems?this.totalItems:e}get _isPagination(){return null==this.getAttribute("pagination-disabled")}get _boundsElement(){return this._shadow.querySelector("#bounds")}get _pagesListElement(){return this._shadow.querySelector(".vl-pager__list")}get _pagesElement(){return this._shadow.querySelector("#pages")}get _pageBackLink(){return this._shadow.querySelector("#page-back-link")}get _pageForwardLink(){return this._shadow.querySelector("#page-forward-link")}get _pageBackListItem(){return this._shadow.querySelector("#page-back-list-item")}get _pageForwardListItem(){return this._shadow.querySelector("#page-forward-list-item")}get _totalItemsElement(){return this._shadow.querySelector("#totalItems")}get _itemsPerPageElementen(){return[this._shadow.querySelector("#previous-items-per-page"),this._shadow.querySelector("#next-items-per-page")]}_getBoundsTemplate(){return`\n      <span class="vl-u-visually-hidden">Rij</span>\n      <strong>${this._firstItemNumberOfPage}-${this._lastItemNumberOfPage}</strong> van ${this.totalItems}\n    `}_getPageTemplate(e){return this._isPagination?e===this.currentPage?this.__getActivePageTemplate(e):"skipped"===e?this.__getSkippedPageTemplate():this.__getPageTemplate(e):""}__getActivePageTemplate(e){return this._template(`\n      <li name="pageLink" data-vl-pager-page=${e} class="vl-pager__element"> \n        <label>${e}</label>\n      </li>\n    `)}__getSkippedPageTemplate(){return this._template('\n      <li class="vl-pager__element">\n        <div class="vl-pager__element__cta">...</div>\n      </li>\n    ')}__getPagesTemplate(){return this._template('\n      <li id="pages" class="vl-pager__element"></li>\n    ')}__getPageTemplate(e){const t=this._template(`\n      <li name="pageLink" data-vl-pager-page=${e} class="vl-pager__element"> \n        <a class="vl-pager__element__cta vl-link vl-link--bold">${e}</a>\n      </li>\n    `);return t.firstElementChild.addEventListener("click",()=>this.setAttribute("current-page",e)),t}_getItemsPerPageContentTemplate(){return`${this.itemsPerPage} rijen`}_items_per_pageChangedCallback(e,t){this._update()}_total_itemsChangedCallback(e,t){0===this.totalItems?this._hide(this._element):(this._show(this._element),this._update())}_current_pageChangedCallback(e,t){this._update()}_pagination_disabledChangedCallback(e,t){void 0!==t&&this._pagesElement?this._pagesElement.remove():this._pagesListElement.insertBefore(this.__getPagesTemplate(),this._pageForwardListItem)}_hide(e){e.hidden=!0}_show(e){e.hidden=!1}_update(){this._updateInfoElement(),this._updatePagination(),this._updateListItems()}_updateInfoElement(){this._boundsElement.innerHTML=this._getBoundsTemplate(),this._itemsPerPageElementen.forEach(e=>{e.innerHTML=this._getItemsPerPageContentTemplate()})}_updatePagination(){if(this._isPagination&&(this._pagesElement||this._pagesListElement.insertBefore(this.__getPagesTemplate(),this._pageForwardListItem),this._pagesElement.innerHTML="",this.totalPages>1)){const e=this.__generatePagination(this.currentPage,this.totalPages).map(e=>this._getPageTemplate(e));this._pagesElement.append(...e)}}_updateListItems(){this.currentPage<=1?this._hide(this._pageBackListItem):this._show(this._pageBackListItem),this.currentPage>=this.totalPages?this._hide(this._pageForwardListItem):this._show(this._pageForwardListItem)}__generatePagination(e,t){const a=[];for(let i=Math.max(2,e-2);i<=Math.min(t-1,e+2);i++)a.push(i);return e-2>2&&a.unshift("skipped"),e+2<t-1&&a.push("skipped"),a.unshift(1),a.push(t),a}__addPageBackLinkListener(){this._pageBackLink.addEventListener("click",()=>{this.currentPage-1<=0||this.setAttribute("current-page",this.currentPage-1)})}__addPageForwardLinkListener(){this._pageForwardLink.addEventListener("click",()=>{this.currentPage+1>this.totalPages||this.setAttribute("current-page",this.currentPage+1)})}}define("vl-pager",VlPager);
